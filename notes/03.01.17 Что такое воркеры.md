---
created at: 2025-08-19
tags:
  - review
zero-links:
  - 03.01 Вопросы связанные с веб технологиями
sr-due: 2025-09-18
sr-interval: 1
sr-ease: 230
---
#### 1. Web Workers (Веб-воркеры)

Цель: Выполнение тяжелых операций (таких как вычисления или обработка данных) в фоновом режиме, чтобы не блокировать основной поток (UI) браузера.

Работают с: Фоновыми задачами, которые требуют значительных вычислительных ресурсов и должны быть выполнены параллельно с основным потоком.

Особенности:

Выполняются в отдельном потоке, изолированном от основного потока JavaScript. Это позволяет избежать блокировки пользовательского интерфейса при выполнении сложных вычислений.

Взаимодействие между основным потоком и веб-воркером происходит через механизм сообщений (postMessage), передавая данные в виде сериализованных объектов.

Не имеют доступа к DOM, поэтому не могут напрямую манипулировать элементами на странице.

Не имеют доступа к API для работы с сетью (например, к fetch API, но могут использовать XHR).

Веб-воркеры остаются активными только во время жизни страницы. Когда страница закрывается, веб-воркеры прекращают свою работу.

Пример использования:
main.js
```js
// main.js основной поток
const worker = new Worker('worker.js'); // Создаем воркер
worker.postMessage('Hello, Worker'); // Отправляем сообщение воркеру

worker.onmessage = function(event) { // Подписываем воркер на сообщения
	console.log('Ответ от воркера:', event.data); // Получаем ответ от воркера 
}; 

//worker.js (веб-воркер) 

onmessage = function(event) { 
	const result = event.data + 'from Web Worker'; 
	postMessage(result); // Отправляем сообщение обратно в основной поток 
};
```

​

#### 2. Service Workers (Сервис-воркеры)

Цель: Управление сетевыми запросами, кэширование данных и обеспечение оффлайн-режима для веб-приложений. Они предназначены для повышения производительности, кэширования данных и обеспечения доступности приложения без сетевого подключения.

Работают с: Управлением кэшем, проксированием сетевых запросов и взаимодействием с сетевыми ресурсами.

Особенности:

Выполняются в фоновом режиме и функционируют как прокси-сервер между браузером и сетью.

Могут перехватывать сетевые запросы, кэшировать ресурсы и возвращать закэшированные версии, даже если пользователь находится оффлайн.

Имеют доступ к таким API, как `Cache API` и `Fetch API`, что делает их полезными для создания прогрессивных веб-приложений (PWA).

Работают вне жизненного цикла страницы. Это означает, что они остаются активными даже после того, как пользователь закрыл страницу, и могут обрабатывать фоновые задачи (например, push-уведомления или синхронизацию данных).

Имеют более сложную структуру жизненного цикла, включающую стадии установки (
`install`), активации (`activate`) и работы (`fetch`).

Пример использования:

```js
// Регистрация сервис-воркера 
if ('serviceWorker' in navigator) { 
		navigator.serviceWorker.register('/service-worker.js')
		.then(function(registration) { 
				console.log('Service Worker зарегистрирован с областью: ',
				registration.scope); 
		}) 
		.catch(function(error) { 
			console.log('Регистрация Service Worker не удалась:', error);
		});
	} 
		
// service-worker.js (сервис-воркер) 
self.addEventListener('install', function(event) { 
	// Событие установки воркера 
	console.log('Service Worker установлен'); 
	// Можно добавить ресурсы в кэш здесь 
	}); 
	
self.addEventListener('fetch', function(event) { 
	// Перехват сетевых запросов 
	event.respondWith( caches.match(event.request)
	.then(function(response) { return response || fetch(event.request); }) 
	);
});
```