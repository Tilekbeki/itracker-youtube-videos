---
created at: 2025-08-19
tags:
  - review
zero-links:
  - 03.02 WEB API
sr-due: 2025-09-23
sr-interval: 1
sr-ease: 210
---
Способ используемый для обхода политики ограничения доменов в браузера, т.к. AJAX запросы с текущей страницы к серверу находящемуся в другом домене запрещены. Это политика называется same origin policy.

[https://learn.javascript.ru/ajax-jsonp](https://learn.javascript.ru/ajax-jsonp)

**JSON** - это широко используемый формат обмена данными, который прост, широко поддерживается и безопасен.

**JSONP** - Это технология для выполнения запроса к другому домену (через обычный XHR это невозможно).

**JSONP** - это метод для выполнения запросов из разных источников, который менее безопасен и официально не поддерживается JSON. JSONP часто используется для загрузки внешних данных на веб-сайт или веб-приложение, также нужно быть уверенным в безопасности поставщика данных.

Это технология для выполнения запроса к другому домену (через обчный XHR это не возможно).

В двух словах работает это следующим образом:

В head страницы добавляется новый тег script с src установленным в адрес запроса и параметры (например "`www.example.com/?id=1&jsonp=myCallback`").

Как вы понимаете этот скрипт будет загружен браузером несмотря на домен на котором мы находимся.

При этом ответная сторона ([example.com](http://example.com)) в тело этого скрипта вернет не просто JSON, а вызов javascript функции указанной в jsonp параметре (мы разумеется эту функцию должны заблаговременно объявить).

Пример ответа от [example.com](http://example.com): `myCallback({ "user": "Rrooom", "message": "test" })`;

Это не плохой способ обойти проблему кросс доменных запросов, но возможен только GET.

GET-параметр может называться по-разному. Вот так выглядит JSONP для Google карт и вариант названия нашей функции
`http://maps.googleapis.com/maps/api/js?sensor=true&language=ru&callback=Test.method`

​

А вот и метод нашего объекта

```js
var Test = { method: function () { console.log(arguments); //Пришли аргументы от maps.googleapis.com } };
```
​

То есть не обязательно должна быть функция в глобальном контексте, но метод обязан быть доступен из глобального контекста.

[JSONP](https://ru.wikipedia.org/wiki/JSONP) - это костыль, используемый в данный момент только за счет такой штуки как IE, который до 10-ой версии не поддерживает CORS.

Проблема состоит в том что политикой безопасности браузера не разрешается делать кросдоменные XHR запросы (тобиш AJAX в простонародьи). Учитывая что angular-based (да и воообще любое приложение на клиенте) приложения должны получать данные с REST API, и это API может находиться на другом сервере, то вполне логично что нужно придумать какой-то способ получать эти данные и что бы это можно было делать не взирая на ограничения браузера.

Нормальные ребята для нормальных браузеров придумали и используют

[CORS](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)

(Cross-origin resource sharing), который стандартизирован, хорошо и няшно работает и легко прикручивается к проекту. Но если у вас заявлена поддержка IE9 или более старых версий, то там все это [работать не будет](http://caniuse.com/#feat=cors) и приходится опять ваять кастыли с jsonp.